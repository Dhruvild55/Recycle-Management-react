import{e as p,r as m,j as e}from"./index-CF-I1X1V.js";import{u as d}from"./index.esm-nAh5TuE8.js";import{u}from"./useMutation-DiklKdbX.js";import{a as g,R as x}from"./axios-CMQmqZP5.js";import{a as f,r as h}from"./index-lxSfC5In.js";import"./utils-km2FGkQ4.js";const j=async a=>(await g.post("/admin/createcampaign?culture=en",a,{headers:{"Content-Type":"multipart/form-data"}})).data,E=()=>{const a=p(s=>s.settings.translations);m.useEffect(()=>{document.title="Campaign Managemant | Recycle Management "},[]);const n=f(),{register:i,handleSubmit:o,formState:{errors:t}}=d(),c=u({mutationFn:j,onSuccess:s=>{x(s.message.value,"success"),n(h.dashboard)},onError:s=>{}}),l=s=>{const r=new FormData;r.append("Title",s.Title),r.append("Description",s.Description),r.append("startDate",new Date(s.startDate).toISOString()),r.append("endDate",new Date(s.endDate).toISOString()),r.append("PinCodes",JSON.stringify([])),r.append("ExelPath",""),r.append("ImagePath",""),r.append("BannerPath",""),s.ImageLogo[0]&&(console.log(s.ImageLogo[0]),r.append("ImageLogo",s.ImageLogo[0])),s.BannerLogo[0]&&r.append("BannerLogo",s.BannerLogo[0]),s.ExcelFile[0]&&r.append("ExcelFile",s.ExcelFile[0]),c.mutate(r)};return e.jsx("div",{className:"campaign-form-contaier",children:e.jsxs("form",{onSubmit:o(l),children:[e.jsx("div",{className:"campaign-form-title-section",children:e.jsxs("div",{className:"campaign-form-group",children:[e.jsx("label",{children:a.title}),e.jsx("input",{type:"text",placeholder:a.title,...i("Title",{required:`${a.title} ${a.isRequire}`})}),t.Title&&e.jsx("p",{className:"error-message",children:t.Title.message})]})}),e.jsx("div",{className:"campaign-form-description-section",children:e.jsxs("div",{className:"campaign-form-group",children:[e.jsx("label",{children:a.description}),e.jsx("textarea",{placeholder:a.description,...i("Description",{required:`${a.description} ${a.isRequire}`})}),t.Description&&e.jsx("p",{className:"error-message",children:t.Description.message})]})}),e.jsxs("div",{className:"campaign-form-date-section",children:[e.jsxs("div",{className:"campaign-form-group",children:[e.jsx("label",{children:a.startDate}),e.jsx("input",{type:"date",placeholder:a.startDate,...i("startDate",{required:"start Date is required"})})]}),e.jsxs("div",{className:"campaign-form-group",children:[e.jsx("label",{children:a.endDate}),e.jsx("input",{type:"date",placeholder:a.endDate,...i("endDate",{required:"End Date is required"})})]})]}),e.jsxs("div",{className:"campaign-form-upload-file-section",children:[e.jsxs("div",{className:"campaign-form-group",children:[e.jsx("label",{children:a.uploadLogo}),e.jsx("input",{type:"file",accept:"image/*",...i("ImageLogo",{required:!0})})]}),e.jsxs("div",{className:"campaign-form-group",children:[e.jsx("label",{children:a.uploadBanner}),e.jsx("input",{type:"file",accept:"image/*",...i("BannerLogo",{required:!0})})]})]}),e.jsxs("div",{className:"campaign-form-group",children:[e.jsx("label",{children:a.uploadExcelFiles}),e.jsx("input",{type:"file",accept:".xls,.xlsx",...i("ExcelFile",{required:!0})})]}),e.jsx("button",{className:"campaign-form-submit-btn",type:"submit",children:a.submit})]})})};export{E as default};
